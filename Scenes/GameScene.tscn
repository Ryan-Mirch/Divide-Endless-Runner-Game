[gd_scene load_steps=2 format=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Control

# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"
# Called when the node enters the scene tree for the first time.
func _ready():
	initialize()
	

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	pass
	#print(Global.time)
	
func initialize():
	
	var seg = Global.segment.instance()
	add_child(seg)
	seg.rect_position = Vector2(Global.centerX, Global.segY)
	
	var borderLeft = Global.border.instance()
	var borderRight = Global.border.instance()
	
	borderLeft.side = -1
	borderRight.side = 1
	
	add_child(borderLeft)
	add_child(borderRight)
	
	var leftP1 = Vector2(Global.centerX - 100, -400)
	var leftP2 = Vector2(Global.centerX - 100,  Global.botY)
	
	var rightP1 = Vector2(Global.centerX + 95, -400)
	var rightP2 = Vector2(Global.centerX + 95, Global.botY)
	
	borderLeft.setPoints(leftP1, leftP2)
	borderRight.setPoints(rightP1, rightP2)

func addBarrier():
	var b = Global.barrier.instance()
	add_child(b)
	b.initialize(rand_range(0.1, 2), Global.centerX + rand_range(-200, 200))
	"

[node name="GameScene" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
rect_pivot_offset = Vector2( 190, 630 )
script = SubResource( 1 )
